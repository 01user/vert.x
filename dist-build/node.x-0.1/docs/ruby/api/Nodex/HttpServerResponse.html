<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Nodex::HttpServerResponse
  
    &mdash; Node.x Ruby API
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (H)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Nodex.html" title="Nodex (module)">Nodex</a></span></span>
     &raquo; 
    <span class="title">HttpServerResponse</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Nodex::HttpServerResponse
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nodex::HttpServerResponse</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="WriteStream.html" title="Nodex::WriteStream (module)">WriteStream</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">src/main/ruby/core/http.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Encapsulates a server-side HTTP response.
</p>
<p>
An instance of this class is created and associated to every instance of
<span class='object_link'><a href="HttpServerRequest.html" title="Nodex::HttpServerRequest (class)">HttpServerRequest</a></span> that is created.
</p>
<p>
It allows the developer to control the HTTP response that is sent back to
the client for the corresponding HTTP request. It contains methods that
allow HTTP headers and trailers to be set, and for a body to be written out
to the response.
</p>
<p>
It also allows a file to be streamed by the kernel directly from disk to
the outgoing HTTP connection, bypassing user space altogether (where
supported by the underlying operating system). This is a very efficient way
of serving files from the server since buffers do not have to be read one
by one from the file and written to the outgoing socket.
</p>


  </div>
</div>
<div class="tags">
  <h3>Author:</h3>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
<a href="http://tfox.org" target="_parent" title="Tim Fox">Tim Fox</a>
</p>
</div>
      
    </li>
  
</ul>

</div>

  
  
  
  


  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chunked%3D-instance_method" title="#chunked= (instance method)">- (HttpServerResponse) <strong>chunked=</strong>(val) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets whether this response uses HTTP chunked encoding or not.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end-instance_method" title="#end (instance method)">- (Object) <strong>end</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Ends the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put_all_headers-instance_method" title="#put_all_headers (instance method)">- (HttpServerResponse) <strong>put_all_headers</strong>(headers) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Inserts a Hash of headers into the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put_all_trailers-instance_method" title="#put_all_trailers (instance method)">- (HttpServerResponse) <strong>put_all_trailers</strong>(headers) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Inserts a Hash of trailers into the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put_header-instance_method" title="#put_header (instance method)">- (HttpServerResponse) <strong>put_header</strong>(key, value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Inserts a header into the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put_trailer-instance_method" title="#put_trailer (instance method)">- (HttpServerResponse) <strong>put_trailer</strong>(key, value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Inserts a trailer into the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_file-instance_method" title="#send_file (instance method)">- (HttpServerResponse) <strong>send_file</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Tell the kernel to stream a file directly from disk to the outgoing
connection, bypassing userspace altogether (where supported by the
underlying operating system. This is a very efficient way to serve files..
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#status_code%3D-instance_method" title="#status_code= (instance method)">- (Object) <strong>status_code=</strong>(val) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Set the status code of the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_buffer-instance_method" title="#write_buffer (instance method)">- (HttpServerResponse) <strong>write_buffer</strong>(chunk, &amp;hndlr) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Write a buffer to the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_buffer_and_end-instance_method" title="#write_buffer_and_end (instance method)">- (Object) <strong>write_buffer_and_end</strong>(chunk) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Same as <span class='object_link'><a href="#end-instance_method" title="Nodex::HttpServerResponse#end (method)">#end</a></span> but writes some data to the response body before ending.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_str-instance_method" title="#write_str (instance method)">- (HttpServerResponse) <strong>write_str</strong>(str, enc = &quot;UTF-8&quot;, &amp;hndlr) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Write a String to the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_str_and_end-instance_method" title="#write_str_and_end (instance method)">- (Object) <strong>write_str_and_end</strong>(str, enc = &quot;UTF-8&quot;) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Same as <span class='object_link'><a href="#write_buffer_and_end-instance_method" title="Nodex::HttpServerResponse#write_buffer_and_end (method)">#write_buffer_and_end</a></span> but writes a String.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="WriteStream.html" title="Nodex::WriteStream (module)">WriteStream</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="WriteStream.html#drain_handler-instance_method" title="Nodex::WriteStream#drain_handler (method)">#drain_handler</a></span>, <span class='object_link'><a href="WriteStream.html#exception_handler-instance_method" title="Nodex::WriteStream#exception_handler (method)">#exception_handler</a></span>, <span class='object_link'><a href="WriteStream.html#write_queue_full%3F-instance_method" title="Nodex::WriteStream#write_queue_full? (method)">#write_queue_full?</a></span>, <span class='object_link'><a href="WriteStream.html#write_queue_max_size%3D-instance_method" title="Nodex::WriteStream#write_queue_max_size= (method)">#write_queue_max_size=</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="chunked=-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>chunked=</strong>(val) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets whether this response uses HTTP chunked encoding or not. will
correspond to a new HTTP chunk sent on the wire. If chunked encoding is
used the HTTP header &#8216;Transfer-Encoding&#8217; with a value of
&#8216;Chunked&#8217; will be automatically inserted in the response. If
chunked is false, this response will not use HTTP chunked encoding, and
therefore if any data is written the body of the response, the total size
of that data must be set in the &#8216;Content-Length&#8217; header
&lt;before&lt; any data is written to the response body. If no data is
written, then a &#8216;Content-Length&#8217; header with a value of
&#8216;0&#8217;&#8217; will be automatically inserted when the response is
sent. An HTTP chunked response is typically used when you do not know the
total size of the request body up front.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>val.</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
If val is true, this response will use HTTP chunked encoding, and each call
to write to the body
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


697
698
699
700</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 697</span>

<span class='def def kw'>def</span> <span class='chunked= identifier id'>chunked=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='setChunked identifier id'>setChunked</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="end-instance_method">
  
    - (<tt>Object</tt>) <strong>end</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Ends the response. If no data has been written to the response body, the
actual response won&#8217;t get written until this method gets called. Once
the response has ended, it cannot be used any more, and if keep alive is
true the underlying connection will be closed.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


705</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 705</span>

<span class='def def kw'>def</span> <span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="put_all_headers-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>put_all_headers</strong>(headers) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Inserts a Hash of headers into the response.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>headers.</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Headers to insert. to_s will be called on each value to determine the
actual String value to insert.
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


633
634
635
636
637
638</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 633</span>

<span class='def def kw'>def</span> <span class='put_all_headers identifier id'>put_all_headers</span><span class='lparen token'>(</span><span class='headers identifier id'>headers</span><span class='rparen token'>)</span>
  <span class='headers identifier id'>headers</span><span class='dot token'>.</span><span class='each_pair identifier id'>each_pair</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='putHeader identifier id'>putHeader</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="put_all_trailers-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>put_all_trailers</strong>(headers) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Inserts a Hash of trailers into the response. Trailers are only sent if you
are using a HTTP chunked response.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>trailers.</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Trailers to insert. to_s will be called on each value to determine the
actual String value to insert.
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


652
653
654
655
656
657</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 652</span>

<span class='def def kw'>def</span> <span class='put_all_trailers identifier id'>put_all_trailers</span><span class='lparen token'>(</span><span class='headers identifier id'>headers</span><span class='rparen token'>)</span>
  <span class='trailers identifier id'>trailers</span><span class='dot token'>.</span><span class='each_pair identifier id'>each_pair</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='putTrailer identifier id'>putTrailer</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="put_header-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>put_header</strong>(key, value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Inserts a header into the response.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The header key
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The header value. to_s will be called on the value to determine the actual
String value to insert.
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


625
626
627
628</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 625</span>

<span class='def def kw'>def</span> <span class='put_header identifier id'>put_header</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='putHeader identifier id'>putHeader</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="put_trailer-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>put_trailer</strong>(key, value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Inserts a trailer into the response. Trailers are only sent if you are
using a HTTP chunked response.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The trailer key
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The trailer value. to_s will be called on the value to determine the actual
String value to insert.
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


644
645
646
647</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 644</span>

<span class='def def kw'>def</span> <span class='put_trailer identifier id'>put_trailer</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='putTrailer identifier id'>putTrailer</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="send_file-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>send_file</strong>(path) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Tell the kernel to stream a file directly from disk to the outgoing
connection, bypassing userspace altogether (where supported by the
underlying operating system. This is a very efficient way to serve files.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>path.</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Path to file to send.
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


682
683
684
685</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 682</span>

<span class='def def kw'>def</span> <span class='send_file identifier id'>send_file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='sendFile identifier id'>sendFile</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="status_code=-instance_method">
  
    - (<tt>Object</tt>) <strong>status_code=</strong>(val) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Set the status code of the response. Default is 200
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>val.</span>
      
      
        <span class='type'>(<tt>FixNum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The HTTP status code.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


617
618
619</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 617</span>

<span class='def def kw'>def</span> <span class='status_code= identifier id'>status_code=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='statusCode identifier id'>statusCode</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_buffer-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>write_buffer</strong>(chunk, &amp;hndlr) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Write a buffer to the response. The handler will be called when the buffer
has actually been written to the wire.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>chunk.</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Buffer.html" title="Nodex::Buffer (class)">Buffer</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The buffer to write
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>hndlr.</span>
      
      
        <span class='type'>(<tt>Block</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The handler
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


663
664
665
666</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 663</span>

<span class='def def kw'>def</span> <span class='write_buffer identifier id'>write_buffer</span><span class='lparen token'>(</span><span class='chunk identifier id'>chunk</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='hndlr identifier id'>hndlr</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='writeBuffer identifier id'>writeBuffer</span><span class='lparen token'>(</span><span class='chunk identifier id'>chunk</span><span class='dot token'>.</span><span class='_to_java_buffer identifier id'>_to_java_buffer</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_buffer_and_end-instance_method">
  
    - (<tt>Object</tt>) <strong>write_buffer_and_end</strong>(chunk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Same as <span class='object_link'><a href="#end-instance_method" title="Nodex::HttpServerResponse#end (method)">#end</a></span> but writes some data to the response body before ending. If
the response is not chunked and no other data has been written then the
Content-Length header will be automatically set
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>chunk</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Buffer.html" title="Nodex::Buffer (class)">Buffer</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The Buffer to write
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


719
720
721</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 719</span>

<span class='def def kw'>def</span> <span class='write_buffer_and_end identifier id'>write_buffer_and_end</span><span class='lparen token'>(</span><span class='chunk identifier id'>chunk</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='lparen token'>(</span><span class='chunk identifier id'>chunk</span><span class='dot token'>.</span><span class='_to_java_buffer identifier id'>_to_java_buffer</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_str-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>) <strong>write_str</strong>(str, enc = &quot;UTF-8&quot;, &amp;hndlr) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Write a String to the response. The handler will be called when the String
has actually been written to the wire.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>str.</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The string to write
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enc.</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Encoding to use.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>hndlr.</span>
      
      
        <span class='type'>(<tt>Block</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The handler
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nodex::HttpServerResponse (class)">HttpServerResponse</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
self So multiple operations can be chained.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


673
674
675
676</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 673</span>

<span class='def def kw'>def</span> <span class='write_str identifier id'>write_str</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='enc identifier id'>enc</span> <span class='assign token'>=</span> <span class='string val'>&quot;UTF-8&quot;</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='hndlr identifier id'>hndlr</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='enc identifier id'>enc</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_str_and_end-instance_method">
  
    - (<tt>Object</tt>) <strong>write_str_and_end</strong>(str, enc = &quot;UTF-8&quot;) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Same as <span class='object_link'><a href="#write_buffer_and_end-instance_method" title="Nodex::HttpServerResponse#write_buffer_and_end (method)">#write_buffer_and_end</a></span> but writes a String
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>str</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The String to write
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enc</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;UTF-8&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
The encoding
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


712
713
714</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/main/ruby/core/http.rb', line 712</span>

<span class='def def kw'>def</span> <span class='write_str_and_end identifier id'>write_str_and_end</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='enc identifier id'>enc</span> <span class='assign token'>=</span> <span class='string val'>&quot;UTF-8&quot;</span><span class='rparen token'>)</span>
  <span class='@j_del ivar id'>@j_del</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='enc identifier id'>enc</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Oct 10 13:16:14 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.8.7).
</div>

  </body>
</html>